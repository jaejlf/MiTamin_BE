ifndef::snippets[]
:snippets: /MyTamin_BE/build/generated-snippets
endif::[]

= ğŸ’Š My Tamin API Document

NOTE: ì—…ë°ì´íŠ¸ ë‚´ì—­

* 2022.09.23.ê¸ˆ : íšŒì›ê°€ì…/ë¡œê·¸ì¸/ì´ë©”ì¼, ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬ API êµ¬í˜„
* 2022.09.24.í†  : íšŒì›ê°€ì… API -> PASSWORD_PATTERN_ERROR ì¶”ê°€ (*ë¹„ë°€ë²ˆí˜¸ íŒ¨í„´ ì„œë²„ ì¸¡ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ ì²´í¬)
* 2022.09.26.ì›” : í™ˆ í™”ë©´ ê´€ë ¨ API êµ¬í˜„ (ì„¸ë¶€ ë¡œì§ êµ¬í˜„ ì „ì´ì§€ë§Œ, ì—…ë°ì´íŠ¸ í›„ì—ë„ responseëŠ” ë™ì¼í•  ì˜ˆì •ì„)
* 2022.09.27.í™”
       ** ë§ˆì´íƒ€ë¯¼ ì„­ì·¨(í•˜ë£¨ ì§„ë‹¨, ì¹­ì°¬ ì²˜ë°©) API êµ¬í˜„
       ** ìµœê·¼ ë§ˆì´íƒ€ë¯¼ API êµ¬í˜„

.ì°¸ê³ ì‚¬í•­
* í•˜ë£¨ ì§„ë‹¨í•˜ê¸°, ì¹­ì°¬ ì²˜ë°©í•˜ê¸° APIì˜ pathê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
* DB êµ¬ì¡° ë³€ê²½ìœ¼ë¡œ í•œì°¨ë¡€ ë” DB ì‚­ì œê°€ ìˆì—ˆìŠµë‹ˆë‹¤. (ì¬ê°€ì… í•„ìš”)

'''

== User
=== íšŒì› ê°€ì…
* ë§ˆì´íƒ€ë¯¼ ì„­ì·¨ ì‹œê°„(mytaminHour, mytaminMin) ë°ì´í„°ëŠ” í•„ìˆ˜ ìš”ì²­ê°’ì´ ì•„ë‹ˆë‹¤.
    ** ìœ ì €ê°€ 'ê±´ë„ˆë›°ê¸°'ë¥¼ ì„ íƒí–ˆì„ ê²½ìš° email, password, nickname ê°’ë§Œ ë„£ì–´ ìš”ì²­í•œë‹¤. +
       (-> ì´ ê²½ìš° mytaminHour, mytaminMinì˜ ì´ˆê¸°ê°’ì€ null)
    ** ë§ˆì´íƒ€ë¯¼ ì„­ì·¨ ì‹œê°„ ì •ë³´ëŠ” ì¶”í›„ ê´€ë ¨ ê¸°ëŠ¥ êµ¬í˜„ ì‹œ ë³€ê²½ ê°€ëŠ¥ì„±ì´ ìˆë‹¤.

operation::auth/signup[snippets='http-request,http-response']
operation::auth/signup[snippets='request-fields,response-fields']

==== Exception Response
* íšŒì› ê°€ì… ìš”ì²­ ì „ ì•„ë˜ì˜ ì˜ˆì™¸ ìƒí™©ë“¤ì— ëŒ€í•´ ë¯¸ë¦¬ ì²˜ë¦¬ê°€ ë˜ì—ˆë‹¤ê³  ê°€ì •í•œë‹¤. (ê°€ê¸‰ì  ë°œìƒí•˜ì§€ ì•Šì•„ì•¼ í•  ì˜¤ë¥˜)
* EMAIL_PATTERN_ERROR : ì´ë©”ì¼ í˜•ì‹ì´ ì •í•´ì§„ íŒ¨í„´("^[_a-z0-9-]+(.[_a-z0-9-]+)*@(?:\w+\.)+\w+$")ê³¼ ë‹¤ë¥¼ ê²½ìš°
* PASSWORD_PATTERN_ERROR : ë¹„ë°€ë²ˆí˜¸ê°€ ì •í•´ì§„ íŒ¨í„´("^(?=.\*[0-9])(?=.*[A-Za-z]).{8,30}$")ê³¼ ë‹¤ë¥¼ ê²½ìš°

include::{snippets}/auth/signup_EMAIL_PATTERN_ERROR/http-response.adoc[]
include::{snippets}/auth/signup_PASSWORD_PATTERN_ERROR/http-response.adoc[]
include::{snippets}/auth/signup_NICKNAME_DUPLICATE_ERROR/http-response.adoc[]
include::{snippets}/auth/signup_USER_ALREADY_EXIST_ERROR/http-response.adoc[]

=== ê¸°ë³¸ ë¡œê·¸ì¸
operation::auth/defaultLogin[snippets='http-request,http-response']
operation::auth/defaultLogin[snippets='request-fields,response-fields']

==== Exception Response
include::{snippets}/auth/defaultLogin_PASSWORD_MISMATCH_ERROR/http-response.adoc[]
include::{snippets}/auth/defaultLogin_USER_NOT_FOUND_ERROR/http-response.adoc[]

=== ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬
operation::auth/checkEmailDuplication[snippets='http-request,http-response']
operation::auth/checkEmailDuplication[snippets='path-parameters,response-fields']

=== ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬
operation::auth/checkNicknameDuplication[snippets='http-request,http-response']
operation::auth/checkNicknameDuplication[snippets='path-parameters,response-fields']

=== í† í° ì¬ë°œê¸‰
* ìƒˆë¡œ ë°œê¸‰í•œ accessTokenê³¼ ê¸°ì¡´ì˜ refreshTokenì„ ë¦¬í„´í•œë‹¤.
    ** refreshTokenì˜ ë§Œë£Œ ê¸°ê°„ì´ 2ì¼ ì´ë‚´ë¡œ ë‚¨ì•˜ì„ ê²½ìš° refreshToken ë˜í•œ ìƒˆë¡œ ë°œê¸‰í•œë‹¤.
* ë§Œì•½ 403 ì‘ë‹µ(= refreshToken ë§Œë£Œ)ì¼ ê²½ìš°ì—ëŠ” ì¬ë¡œê·¸ì¸í•˜ë„ë¡ í•œë‹¤.

operation::auth/reissue[snippets='http-request,http-response']
operation::auth/reissue[snippets='request-fields,response-fields']

==== Exception Response
* INVALID_TOKEN_ERROR : DBì— ì €ì¥ëœ refresh í† í°ê³¼ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ê²½ìš° (= refreshToken ìì²´ê°€ ì˜ëª» ë˜ì—ˆê±°ë‚˜ ë§Œë£Œëœ ê²½ìš°)

include::{snippets}/auth/reissue_INVALID_TOKEN_ERROR/http-response.adoc[]
include::{snippets}/auth/reissue_USER_NOT_FOUND_ERROR/http-response.adoc[]

== Home
=== ì›°ì»´ ë©”ì„¸ì§€
* ì‹œê°„ì— ë”°ë¥¸ ì›°ì»´ ë©”ì‹œì§€ë¥¼ ë¦¬í„´í•œë‹¤.
       ** am 5:00 ~ am 11:59 : ì˜¤ëŠ˜ë„ í˜ì°¨ê²Œ ì‹œì‘í•´ë³¼ê¹Œìš” ?
       ** pm 12:00 ~ pm 18:59 : ì–´ë–¤ í•˜ë£¨ë¥¼ ë³´ë‚´ê³  ê³„ì‹ ê°€ìš” ?
       ** pm 19:00 ~ am 4:59 : í‘¹ ì‰¬ê³  ë‚´ì¼ ë§Œë‚˜ìš”
* (ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •) ë§ˆì´íƒ€ë¯¼ ì„­ì·¨ ì—¬ë¶€ì— ë”°ë¥¸ ë©”ì„¸ì§€ êµ¬í˜„ ì „

operation::home/welcome[snippets='http-request,http-response']
operation::home/welcome[snippets='request-headers,response-fields']

=== ìˆ¨ ê³ ë¥´ê¸° ì™„ë£Œ
* ìœ ì €ê°€ 'ìˆ¨ ê³ ë¥´ê¸°' í–‰ë™ì„ ì™„ë£Œí–ˆë‹¤ë©´ í•´ë‹¹ APIë¥¼ ìš”ì²­í•œë‹¤.

operation::home/completeBreath[snippets='http-request,http-response']
operation::home/completeBreath[snippets='request-headers,response-fields']

=== ê°ê° ê¹¨ìš°ê¸° ì™„ë£Œ
* ìœ ì €ê°€ 'ê°ê° ê¹¨ìš°ê¸°' í–‰ë™ì„ ì™„ë£Œí–ˆë‹¤ë©´ í•´ë‹¹ APIë¥¼ ìš”ì²­í•œë‹¤.

operation::home/completeSense[snippets='http-request,http-response']
operation::home/completeSense[snippets='request-headers,response-fields']

=== í–‰ë™ ì™„ë£Œ ìƒíƒœ
* 1 ~ 4ë²ˆ í–‰ë™ì— ëŒ€í•´ ìœ ì €ê°€ í–‰ë™ì„ ì™„ë£Œí–ˆë‹¤ë©´ true, ì™„ë£Œí•˜ì§€ ì•Šì•˜ë‹¤ë©´ falseë¥¼ ë¦¬í„´í•œë‹¤.

operation::home/getProgressStatus[snippets='http-request,http-response']
operation::home/getProgressStatus[snippets='request-headers,response-fields']

== Mytamin
=== ìµœê·¼ ì„­ì·¨í•œ ë§ˆì´íƒ€ë¯¼

* í•˜ë£¨ ì§„ë‹¨ or ì¹­ì°¬ ì²˜ë°© ì¤‘ í•˜ë‚˜ë¼ë„ ì™„ë£Œí–ˆì„ ê²½ìš° dataê°€ ë¦¬í„´ë˜ë©°, ìµœê·¼ ì„­ì·¨í•œ ë§ˆì´íƒ€ë¯¼ì´ ì—†ì„ ê²½ìš° data ê°’ì€ nullì´ë‹¤.
* í•˜ë£¨ ì§„ë‹¨ì„ or ì¹­ì°¬ ì²˜ë°© ì¤‘ í•˜ë‚˜ë§Œ ì™„ë£Œë˜ì—ˆì„ ê²½ìš°, ì™„ë£Œë˜ì§€ ì•Šì€ í–‰ë™ê³¼ ê´€ë ¨ëœ ì†ì„±ê°’ì€ nullë¡œ ë¦¬í„´ëœë‹¤.
* 24ì‹œê°„ ì´ë‚´ ìƒì„±ëœ ë§ˆì´íƒ€ë¯¼ì¼ ê²½ìš°ì— canEdit ì†ì„±ê°’ì€ trueì´ë‹¤.
* mentalConditionCode
       ** 1 : "ë§¤ìš° ë‚˜ë¹ ìš” .."
       ** 2 : "ë‚˜ìœ í¸ì´ì—ìš” :("
       ** 3 : "ê·¸ëŸ­ì €ëŸ­ì´ì—ìš”"
       ** 4 : "ì¢‹ì€ í¸ì´ì—ìš” :)"
       ** 5 : "ë§¤ìš° ì¢‹ì•„ìš” !"

operation::mytamin/getLatestMytamin[snippets='http-request,http-response']
operation::mytamin/getLatestMytamin[snippets='request-headers,response-fields']

== Report
=== í•˜ë£¨ ì§„ë‹¨í•˜ê¸°
* ë§ˆìŒ ì»¨ë””ì…˜ì€ Stringì´ ì•„ë‹Œ, ê° ë§ˆìŒ ì»¨ë””ì…˜ì— í•´ë‹¹í•˜ëŠ” int typeì˜ ì½”ë“œë¥¼ ë³´ë‚¸ë‹¤.
* mentalConditionCode
       ** 1 : "ë§¤ìš° ë‚˜ë¹ ìš” .."
       ** 2 : "ë‚˜ìœ í¸ì´ì—ìš” :("
       ** 3 : "ê·¸ëŸ­ì €ëŸ­ì´ì—ìš”"
       ** 4 : "ì¢‹ì€ í¸ì´ì—ìš” :)"
       ** 5 : "ë§¤ìš° ì¢‹ì•„ìš” !"

operation::report/reportToday[snippets='http-request,http-response']
operation::report/reportToday[snippets='request-headers,response-fields']

==== Exception Response
* í•˜ë£¨ ì§„ë‹¨ì„ ì™„ë£Œí•˜ë©´ ê°™ì€ ë‚ ì§œì—ëŠ” í•˜ë£¨ ì§„ë‹¨í•˜ê¸° ìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤.

include::{snippets}/report/reportToday_REPORT_ALREADY_DONE/http-response.adoc[]
include::{snippets}/report/reportToday_INVALID_CONDITION_CODE_ERROR/http-response.adoc[]

== Care
=== ì¹­ì°¬ ì²˜ë°©í•˜ê¸°
* ì¹­ì°¬ ì¹´í…Œê³ ë¦¬ëŠ” Stringì´ ì•„ë‹Œ, ê° ì¹´í…Œê³ ë¦¬ì— í•´ë‹¹í•˜ëŠ” int typeì˜ ì½”ë“œë¥¼ ë³´ë‚¸ë‹¤.
* careCategoryCode
       ** 1 : "ì´ë£¨ì–´ ë‚¸ ì¼"
       ** 2 : "ì˜í•œ ì¼ì´ë‚˜ í–‰ë™"
       ** 3 : "ë…¸ë ¥í•˜ê³  ìˆëŠ” ë¶€ë¶„"
       ** 4 : "ê¸ì •ì ì¸ ë³€í™”ë‚˜ ê¹¨ë‹¬ìŒ"
       ** 5 : "ê°ì •, ìƒê° í˜¹ì€ ì‹ ì²´ ì¼ë¶€ë¶„"
       ** 6 : "ê³¼ê±°ì˜ ë‚˜"
       ** 7 : "ê¸°íƒ€"

operation::care/careToday[snippets='http-request,http-response']
operation::care/careToday[snippets='request-headers,response-fields']

==== Exception Response
* ì¹­ì°¬ ì²˜ë°©ì„ ì™„ë£Œí•˜ë©´ ê°™ì€ ë‚ ì§œì—ëŠ” ì¹­ì°¬ ì²˜ë°©í•˜ê¸° ìš”ì²­ì„ ë‹¤ì‹œ ë³´ë‚¼ ìˆ˜ ì—†ë‹¤.
* ì•„ì§ ìˆ˜ì • ê¸°ëŠ¥ êµ¬í˜„ ì „

include::{snippets}/care/careToday_CARE_ALREADY_DONE/http-response.adoc[]
include::{snippets}/care/careToday_INVALID_CATEGORY_CODE_ERROR/http-response.adoc[]